/* empty css             *//* empty css                  *//* empty css                 */import{d as e,u as a,c as l,a as s,b as r,w as u,r as o,E as t,e as d,o as i,f as p,g as n,h as m,i as g,j as c,k as v,l as f,m as _,n as b,p as w,q as y,s as h,t as V,v as x,_ as z}from"./index-CDSZG5ub.js";const q={class:"login-container"},U={class:"login-card"},j=z(e({__name:"Login",setup(e){const z=d(),j=a(),k=o("login"),I=o(!1),A=o(),F=o(),R=o({account:"",password:""}),S=o({email:"",phone:"",password:""}),D={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},E={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:20,message:"密码长度为8-20位",trigger:"blur"}]},L=async()=>{A.value&&await A.value.validate(async e=>{if(e){I.value=!0;try{await j.login(R.value),x.success("登录成功"),z.push("/")}catch(a){x.error(a.message||"登录失败")}finally{I.value=!1}}})},$=async()=>{F.value&&await F.value.validate(async e=>{if(e){I.value=!0;try{await j.register(S.value),x.success("注册成功，请登录"),k.value="login"}catch(a){x.error(a.message||"注册失败")}finally{I.value=!1}}})};return(e,a)=>{const o=v,d=c,x=g,z=w,j=n,B=p,C=t;return i(),l("div",q,[s("div",U,[a[8]||(a[8]=s("div",{class:"login-header"},[s("h2",null,"欢迎来到 iData AI"),s("p",null,"AI创作，让灵感无限")],-1)),r(C,{modelValue:k.value,"onUpdate:modelValue":a[5]||(a[5]=e=>k.value=e),class:"login-tabs"},{default:u(()=>[r(B,{label:"登录",name:"login"},{default:u(()=>[r(j,{ref_key:"loginFormRef",ref:A,model:R.value,rules:D,onSubmit:m(L,["prevent"])},{default:u(()=>[r(x,{prop:"account"},{default:u(()=>[r(d,{modelValue:R.value.account,"onUpdate:modelValue":a[0]||(a[0]=e=>R.value.account=e),placeholder:"请输入邮箱/手机号/用户名",size:"large",clearable:""},{prefix:u(()=>[r(o,null,{default:u(()=>[r(f(_))]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(x,{prop:"password"},{default:u(()=>[r(d,{modelValue:R.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>R.value.password=e),type:"password",placeholder:"请输入密码",size:"large","show-password":"",clearable:""},{prefix:u(()=>[r(o,null,{default:u(()=>[r(f(b))]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(x,null,{default:u(()=>[r(z,{type:"primary",size:"large",loading:I.value,"native-type":"submit",style:{width:"100%"}},{default:u(()=>[...a[6]||(a[6]=[y(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1}),r(B,{label:"注册",name:"register"},{default:u(()=>[r(j,{ref_key:"registerFormRef",ref:F,model:S.value,rules:E,onSubmit:m($,["prevent"])},{default:u(()=>[r(x,{prop:"email"},{default:u(()=>[r(d,{modelValue:S.value.email,"onUpdate:modelValue":a[2]||(a[2]=e=>S.value.email=e),placeholder:"请输入邮箱",size:"large",clearable:""},{prefix:u(()=>[r(o,null,{default:u(()=>[r(f(h))]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(x,{prop:"phone"},{default:u(()=>[r(d,{modelValue:S.value.phone,"onUpdate:modelValue":a[3]||(a[3]=e=>S.value.phone=e),placeholder:"请输入手机号",size:"large",clearable:""},{prefix:u(()=>[r(o,null,{default:u(()=>[r(f(V))]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(x,{prop:"password"},{default:u(()=>[r(d,{modelValue:S.value.password,"onUpdate:modelValue":a[4]||(a[4]=e=>S.value.password=e),type:"password",placeholder:"请输入密码（8-20位，包含大小写字母和数字）",size:"large","show-password":"",clearable:""},{prefix:u(()=>[r(o,null,{default:u(()=>[r(f(b))]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(x,null,{default:u(()=>[r(z,{type:"primary",size:"large",loading:I.value,"native-type":"submit",style:{width:"100%"}},{default:u(()=>[...a[7]||(a[7]=[y(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-783b7d7b"]]);export{j as default};
